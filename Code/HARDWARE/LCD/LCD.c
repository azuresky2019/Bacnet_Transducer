
#include "lcd.h"
#define TYPE_NUM			0
#define TYPE_SMALL_LETTER	1
#define TYPE_SYMBOL			2

uint16_t bl_timer = 0 ;


uint8_t scroll_message[80] ;
uint8_t scroll_message_length ;
uint8_t scrolling_flag = FALSE ;
uint8_t start_bit = 0;
uint8_t start_byte = 0;

uint8_t const  character_symbol[1][8] = 
{
	{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*" ",0*/

};


uint8_t const  character_number[10][8] = 
{
	{0x00,0x7C,0x82,0x82,0x7C,0x00,0x00,0x00},/*"0",0*/
	{0x00,0x84,0xFE,0x80,0x00,0x00,0x00,0x00},/*"1",1*/
	{0x00,0xC4,0xA2,0x92,0x8C,0x00,0x00,0x00},/*"2",2*/
	{0x00,0x44,0x92,0x92,0x6C,0x00,0x00,0x00},/*"3",3*/
	{0x00,0x70,0x4C,0xFE,0x40,0x00,0x00,0x00},/*"4",4*/
	{0x00,0x9E,0x92,0x92,0x62,0x00,0x00,0x00},/*"5",5*/
	{0x00,0x7C,0x92,0x92,0x64,0x00,0x00,0x00},/*"6",6*/
	{0x00,0x06,0xE2,0x12,0x0E,0x00,0x00,0x00},/*"7",7*/
	{0x00,0x6C,0x92,0x92,0x6C,0x00,0x00,0x00},/*"8",8*/
	{0x00,0x4C,0x92,0x92,0x7C,0x00,0x00,0x00},/*"9",9*/
};

uint8_t const  character_upper_letter[26][8] = 
{
	{0x00,0xFC,0x22,0x22,0xFC,0x00,0x00,0x00},/*"A",0*/
	{0x00,0xFE,0x92,0x92,0x6C,0x00,0x00,0x00},/*"B",1*/
	{0x00,0x7C,0x82,0x82,0x44,0x00,0x00,0x00},/*"C",2*/
	{0x00,0xFE,0x82,0x82,0x7C,0x00,0x00,0x00},/*"D",3*/
	{0x00,0xFE,0x92,0x92,0x82,0x00,0x00,0x00},/*"E",4*/
	{0x00,0xFE,0x12,0x12,0x02,0x00,0x00,0x00},/*"F",5*/
	{0x00,0x7C,0x82,0x92,0x74,0x00,0x00,0x00},/*"G",6*/
	{0x00,0xFE,0x10,0x10,0xFE,0x00,0x00,0x00},/*"H",7*/
	{0x00,0x82,0xFE,0x82,0x00,0x00,0x00,0x00},/*"I",8*/
	{0x00,0x60,0x80,0x80,0x7E,0x00,0x00,0x00},/*"J",9*/
	{0x00,0xFE,0x10,0x28,0xC6,0x00,0x00,0x00},/*"K",10*/
	{0x00,0xFE,0x80,0x80,0x80,0x00,0x00,0x00},/*"L",11*/
	{0x00,0xFE,0x0C,0x0C,0xFE,0x00,0x00,0x00},/*"M",12*/
	{0x00,0xFE,0x0C,0x30,0xFE,0x00,0x00,0x00},/*"N",13*/
	{0x00,0xFE,0x82,0x82,0xFE,0x00,0x00,0x00},/*"O",14*/
	{0x00,0xFE,0x12,0x12,0x0C,0x00,0x00,0x00},/*"P",15*/
	{0x00,0x7C,0xA2,0xC2,0xFC,0x00,0x00,0x00},/*"Q",16*/
	{0x00,0xFE,0x32,0x52,0x8C,0x00,0x00,0x00},/*"R",17*/
	{0x00,0x4C,0x92,0x92,0x64,0x00,0x00,0x00},/*"S",18*/
	{0x00,0x02,0xFE,0x02,0x02,0x00,0x00,0x00},/*"T",19*/
	{0x00,0x7E,0x80,0x80,0x7E,0x00,0x00,0x00},/*"U",20*/
	{0x00,0x1E,0xE0,0xE0,0x1E,0x00,0x00,0x00},/*"V",21*/
	{0x00,0xFE,0x60,0x60,0xFE,0x00,0x00,0x00},/*"W",22*/
	{0x00,0xC6,0x38,0x38,0xC6,0x00,0x00,0x00},/*"X",23*/
	{0x06,0x08,0xF0,0x08,0x06,0x00,0x00,0x00},/*"Y",24*/
	{0x00,0xC2,0xB2,0x9A,0x86,0x00,0x00,0x00},/*"Z",25*/
};

uint8_t const  character_lower_letter[26][8] = 
{
	{0x00,0x20,0x58,0x58,0x78,0x00,0x00,0x00},/*"a",0*/
	{0x00,0x7F,0x48,0x48,0x30,0x00,0x00,0x00},/*"b",1*/
	{0x00,0x30,0x48,0x48,0x48,0x00,0x00,0x00},/*"c",2*/
	{0x00,0x30,0x48,0x48,0x7F,0x00,0x00,0x00},/*"d",3*/
	{0x00,0x30,0x58,0x58,0x10,0x00,0x00,0x00},/*"e",4*/
	{0x00,0x08,0x7C,0x0A,0x08,0x00,0x00,0x00},/*"f",5*/
	{0x00,0x10,0xA8,0xA8,0x78,0x00,0x00,0x00},/*"g",6*/
	{0x00,0x7F,0x08,0x78,0x00,0x00,0x00,0x00},/*"h",7*/
	{0x00,0x00,0x74,0x00,0x00,0x00,0x00,0x00},/*"i",8*/
	{0x00,0x80,0x80,0x74,0x00,0x00,0x00,0x00},/*"j",9*/
	{0x00,0x7F,0x10,0x28,0x48,0x00,0x00,0x00},/*"k",10*/
	{0x00,0x40,0x7F,0x40,0x00,0x00,0x00,0x00},/*"l",11*/
	{0x00,0x78,0x08,0x78,0x78,0x00,0x00,0x00},/*"m",12*/
	{0x00,0x78,0x08,0x08,0x70,0x00,0x00,0x00},/*"n",13*/
	{0x00,0x30,0x48,0x48,0x30,0x00,0x00,0x00},/*"o",14*/
	{0x00,0xF8,0x48,0x48,0x30,0x00,0x00,0x00},/*"p",15*/
	{0x00,0x30,0x48,0x48,0xF8,0x00,0x00,0x00},/*"q",16*/
	{0x00,0x78,0x10,0x08,0x08,0x00,0x00,0x00},/*"r",17*/
	{0x00,0x50,0x58,0x68,0x28,0x00,0x00,0x00},/*"s",18*/
	{0x00,0x08,0x7C,0x48,0x00,0x00,0x00,0x00},/*"t",19*/
	{0x00,0x38,0x40,0x40,0x78,0x00,0x00,0x00},/*"u",20*/
	{0x00,0x18,0x60,0x60,0x18,0x00,0x00,0x00},/*"v",21*/
	{0x18,0x60,0x38,0x60,0x18,0x00,0x00,0x00},/*"w",22*/
	{0x00,0x48,0x30,0x30,0x48,0x00,0x00,0x00},/*"x",23*/
	{0x00,0x18,0xA0,0xA0,0x78,0x00,0x00,0x00},/*"y",24*/
	{0x00,0x48,0x68,0x58,0x48,0x00,0x00,0x00},/*"z",25*/
};


uint8_t const  center_letter[12][5][20] = 
{

	{
		{0x00,0x80,0xC0,0xF0,0xF8,0xFC,0x7C,0x3E,0x1E,0x1E,0x1E,0x1E,0x3C,0x7C,0xF8,0xF0,0xE0,0xC0,0x00,0x00},
		{0xFC,0xFF,0xFF,0xFF,0x0F,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x3F,0xFF,0xFF,0xFF,0xF0},
		{0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF},
		{0x0F,0x7F,0xFF,0xFF,0xF8,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xFE,0xFF,0xFF,0x3F,0x07},
		{0x00,0x00,0x01,0x03,0x0F,0x0F,0x1F,0x3E,0x3C,0x3C,0x3C,0x3C,0x1E,0x1F,0x0F,0x07,0x03,0x00,0x00,0x00},/*"0",0*/
	},
	{
		{0x00,0x00,0x00,0xC0,0xC0,0xC0,0xC0,0xE0,0xE0,0xF8,0xFE,0xFE,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x3F,0x3F,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"1",1*/
	},
	{
		{0x00,0x00,0xC0,0xF0,0xF8,0xFC,0x3C,0x3E,0x1E,0x1E,0x1E,0x1E,0x1E,0x7C,0xFC,0xF8,0xF0,0xE0,0x00,0x00},
		{0x00,0x1E,0x1F,0x1F,0x1F,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0xFF,0xFF,0x3F,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xF0,0xF8,0xFE,0x3F,0x1F,0x0F,0x03,0x00,0x00,0x00},
		{0x00,0x00,0x80,0xE0,0xF0,0xFC,0x7E,0x3F,0x1F,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		//{0x3C,0x3F,0x3F,0x3F,0x3F,0x3D,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x00},/*"2",2*/			
		{0x3C,0x3F,0x3F,0x3F,0x3F,0x3D,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,0x00,0x00,0x00,0x00},/*"2",2*/	
	},
	{
		{0x00,0x80,0xE0,0xF0,0xF8,0xFC,0x3C,0x1E,0x1E,0x0E,0x0E,0x1E,0x1E,0x7C,0xFC,0xF8,0xF0,0xC0,0x00,0x00},
		{0x00,0x07,0x07,0x07,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0xFF,0x7F,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x1E,0x1F,0x1F,0x3B,0xFB,0xF1,0xE0,0xC0,0x00,0x00},
		{0x78,0xF8,0xF8,0xF8,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xFF,0xFF,0xFF,0x7F,0x00},
		{0x00,0x01,0x07,0x0F,0x1F,0x1F,0x3E,0x3C,0x3C,0x3C,0x3C,0x3C,0x3E,0x1F,0x1F,0x0F,0x07,0x01,0x00,0x00},/*"3",3*/
	},
	{
		
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0xFC,0xFE,0xFE,0xFE,0xFE,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0xFC,0x7F,0x1F,0x07,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00},
		{0x80,0xC0,0xF0,0xFC,0xFF,0x1F,0x07,0x01,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00},
		{0x1F,0x1F,0x1F,0x1F,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0xFF,0xFF,0xFF,0xFF,0xFF,0x1E,0x1E,0x1E,0x1E},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x3F,0x3F,0x3F,0x00,0x00,0x00,0x00},/*"4",4*/
	},
	{
		
		{0x00,0x00,0xFE,0xFE,0xFE,0xFE,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x00,0x00},
		{0x00,0xF8,0xFF,0xFF,0xFF,0x07,0x00,0x80,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x80,0x80,0x00,0x00,0x00,0x00},
		{0x00,0x1F,0x1F,0x1F,0x1F,0x0F,0x07,0x03,0x03,0x01,0x01,0x01,0x03,0x07,0x1F,0xFF,0xFF,0xFC,0xF0,0x00},
		{0x78,0xF8,0xF8,0xF8,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xFF,0xFF,0xFF,0x3F,0x00},
		{0x00,0x01,0x07,0x0F,0x1F,0x1F,0x3E,0x3C,0x3C,0x3C,0x3C,0x3E,0x1E,0x1F,0x0F,0x07,0x03,0x01,0x00,0x00},			///*"5",5*/
	},
	{
		{0x00,0x00,0x00,0x80,0xE0,0xF0,0xF8,0xFC,0x3C,0x1E,0x1E,0x1E,0x1E,0x3E,0xFC,0xFC,0xF8,0xF0,0x80,0x00},
		{0x00,0xF0,0xFE,0xFF,0xFF,0x3F,0x03,0x80,0x80,0xC0,0xC0,0xC0,0xC0,0xC0,0x80,0x83,0x03,0x03,0x03,0x00},
		{0x00,0xFF,0xFF,0xFF,0xFF,0x7E,0x0F,0x07,0x03,0x03,0x01,0x01,0x03,0x07,0x1F,0xFF,0xFF,0xFC,0xF0,0x00},
		{0x00,0x1F,0xFF,0xFF,0xFF,0xF0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0xFF,0xFF,0x00},
		{0x00,0x00,0x00,0x03,0x07,0x0F,0x1F,0x1E,0x3C,0x3C,0x3C,0x3C,0x3C,0x1E,0x1F,0x0F,0x07,0x03,0x00,0x00},/*"6",6*/
	},
	{
		
		{0x00,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0xDE,0xFE,0xFE,0xFE,0x3E,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xFC,0xFF,0xFF,0x3F,0x03,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFE,0xFF,0xFF,0x1F,0x01,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xFF,0xFF,0xFF,0x1F,0x01,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x3F,0x3F,0x3F,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"7",7*/
	},
	{
		{0x00,0x80,0xE0,0xF0,0xF8,0xFC,0x3C,0x1E,0x1E,0x0E,0x0E,0x1E,0x1E,0x3C,0xFC,0xF8,0xF0,0xC0,0x00,0x00},
		{0x00,0x3F,0xFF,0xFF,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0xFF,0x7F,0x1E,0x00},
		{0x00,0x80,0xE0,0xF1,0xF3,0x7F,0x3F,0x1E,0x1E,0x1E,0x1E,0x1E,0x1F,0x3F,0xFB,0xF3,0xE1,0xC0,0x80,0x00},
		{0x7E,0xFF,0xFF,0xFF,0xE3,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0xFF,0xFF,0x1C},
		{0x00,0x01,0x07,0x0F,0x1F,0x1F,0x3E,0x3C,0x3C,0x3C,0x3C,0x3C,0x3E,0x1E,0x1F,0x0F,0x07,0x03,0x00,0x00},/*"8",8*/
	},
	{
		{0x00,0x80,0xE0,0xF0,0xF8,0xFC,0x3C,0x1E,0x1E,0x0E,0x1E,0x1E,0x3C,0xFC,0xF8,0xF0,0xE0,0x00,0x00,0x00},
		{0x70,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xF8,0x00},
		{0x00,0x0F,0x3F,0x7F,0xFF,0xF8,0xE0,0xC0,0xC0,0xC0,0xC0,0xE0,0xF0,0x78,0x3F,0xFF,0xFF,0xFF,0xFF,0x00},
		{0x00,0xE0,0xE0,0xE0,0xE0,0x81,0x01,0x01,0x01,0x01,0x01,0x01,0x80,0xE0,0xFF,0xFF,0xFF,0x3F,0x03,0x00},
		{0x00,0x00,0x03,0x07,0x0F,0x1F,0x3E,0x3C,0x3C,0x3C,0x3C,0x1E,0x1F,0x0F,0x07,0x03,0x00,0x00,0x00,0x00},/*"9",9*/
	},
//	{
//		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//		{0x00,0x1E,0x1E,0x1E,0x1E,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*".",10*/
//	},
	{
		
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x78,0x78,0x78},/*"Î´ÃüÃûÎÄ¼þ",0*/
		
	},
		
	{
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*" ",11*/
	}

};

uint8_t const  Dot8_16[95][2][8] = 
{
	{
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*" ",0*/
	},
	{
		{0xFF,0xFF,0xFF,0x03,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF3,0xFF,0xFF,0xFF,0xFF},/*"!",1*/
	},
	{
		{0xFF,0xEF,0xF3,0xEF,0xF3,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*""",2*/
	},
	{
		{0xFF,0xEF,0x03,0xEF,0x03,0xEF,0xFF,0xFF},
		{0xFF,0xFB,0xE0,0xFB,0xE0,0xFB,0xFF,0xFF},/*"#",3*/
	},
	{
		{0xFF,0xCF,0xB7,0x03,0x77,0xCF,0xFF,0xFF},
		{0xFF,0xF9,0xF7,0xE0,0xF7,0xF8,0xFF,0xFF},/*"$",4*/
	},
	{
		{0xFF,0xE7,0xDB,0x27,0xCF,0xF3,0xFF,0xFF},
		{0xFF,0xF3,0xFC,0xF9,0xF6,0xF9,0xFF,0xFF},/*"%",5*/
	},
	{
		{0xFF,0x67,0x9B,0x67,0xFF,0x7F,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF6,0xF9,0xF6,0xFF,0xFF},/*"&",6*/
	},
	{
		{0xFF,0xFF,0xEB,0xF3,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*"'",7*/
	},
	{
		{0xFF,0xFF,0x1F,0xE7,0xFB,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFC,0xF3,0xEF,0xFF,0xFF,0xFF},/*"(",8*/
	},
	{
		{0xFF,0xFF,0xFB,0xE7,0x1F,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xEF,0xF3,0xFC,0xFF,0xFF,0xFF},/*")",9*/
	},
	{
		{0xFF,0x9F,0x7F,0x0F,0x7F,0x9F,0xFF,0xFF},
		{0xFF,0xFC,0xFF,0xF8,0xFF,0xFC,0xFF,0xFF},/*"*",10*/
	},
	{
		{0xFF,0x7F,0x7F,0x0F,0x7F,0x7F,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF8,0xFF,0xFF,0xFF,0xFF},/*"+",11*/
	},
	{
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xEB,0xF3,0xFF,0xFF,0xFF,0xFF},/*",",12*/
	},
	{
		{0xFF,0x7F,0x7F,0x7F,0x7F,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*"-",13*/
	},
	{
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xF3,0xF3,0xFF,0xFF,0xFF,0xFF},/*".",14*/
	},
	{
		{0xFF,0xFF,0xFF,0x3F,0xCF,0xF3,0xFF,0xFF},
		{0xFF,0xE7,0xF9,0xFE,0xFF,0xFF,0xFF,0xFF},/*"/",15*/
	},
	{
		{0xFF,0x0F,0xF7,0xF7,0x0F,0xFF,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF8,0xFF,0xFF,0xFF},/*"0",16*/
	},
	{
		{0xFF,0xFF,0xEF,0x07,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF0,0xFF,0xFF,0xFF,0xFF},/*"1",17*/
	},
	{
		{0xFF,0xCF,0xF7,0x77,0x8F,0xFF,0xFF,0xFF},
		{0xFF,0xF3,0xF4,0xF7,0xF7,0xFF,0xFF,0xFF},/*"2",18*/
	},
	{
		{0xFF,0xCF,0x77,0x77,0x8F,0xFF,0xFF,0xFF},
		{0xFF,0xF9,0xF7,0xF7,0xF8,0xFF,0xFF,0xFF},/*"3",19*/
	},
	{
		{0xFF,0xFF,0x3F,0xCF,0x07,0xFF,0xFF,0xFF},
		{0xFF,0xFC,0xFD,0xFD,0xF0,0xFD,0xFF,0xFF},/*"4",20*/
	},
	{
		{0xFF,0x07,0xB7,0xB7,0x77,0xFF,0xFF,0xFF},
		{0xFF,0xF9,0xF7,0xF7,0xF8,0xFF,0xFF,0xFF},/*"5",21*/
	},
	{
		{0xFF,0x0F,0x77,0x77,0xCF,0xFF,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF8,0xFF,0xFF,0xFF},/*"6",22*/
	},
	{
		{0xFF,0xF7,0xF7,0x37,0xC7,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xF1,0xFE,0xFF,0xFF,0xFF,0xFF},/*"7",23*/
	},
	{
		{0xFF,0x8F,0x77,0x77,0x8F,0xFF,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF8,0xFF,0xFF,0xFF},/*"8",24*/
	},
	{
		{0xFF,0x8F,0x77,0x77,0x0F,0xFF,0xFF,0xFF},
		{0xFF,0xF9,0xF7,0xF7,0xF8,0xFF,0xFF,0xFF},/*"9",25*/
	},
	{
		{0xFF,0xFF,0x9F,0x9F,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xF3,0xF3,0xFF,0xFF,0xFF,0xFF},/*":",26*/
	},
	{
		{0xFF,0xFF,0x9F,0x9F,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xEB,0xF3,0xFF,0xFF,0xFF,0xFF},/*";",27*/
	},
	{
		{0xFF,0x7F,0xBF,0xDF,0xEF,0xF7,0xFF,0xFF},
		{0xFF,0xFF,0xFE,0xFD,0xFB,0xF7,0xFF,0xFF},/*"<",28*/
	},
	{
		{0xFF,0xDF,0xDF,0xDF,0xDF,0xFF,0xFF,0xFF},
		{0xFF,0xFE,0xFE,0xFE,0xFE,0xFF,0xFF,0xFF},/*"=",29*/
	},
	{
		{0xFF,0xF7,0xEF,0xDF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF7,0xFB,0xFD,0xFE,0xFF,0xFF,0xFF},/*">",30*/
	},
	{
		{0xFF,0xCF,0xF7,0x77,0x8F,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF2,0xFF,0xFF,0xFF,0xFF},/*"?",31*/
	},
	{
		{0xFF,0x0F,0xD7,0x17,0xF7,0x0F,0xFF,0xFF},
		{0xFF,0xF8,0xF6,0xF6,0xF5,0xFA,0xFF,0xFF},/*"@",32*/
	},
	{
		{0xFF,0xFF,0x1F,0xE7,0x1F,0xFF,0xFF,0xFF},
		{0xFF,0xF0,0xFD,0xFD,0xFD,0xF0,0xFF,0xFF},/*"A",33*/
	},
	{
		{0xFF,0x07,0x77,0x77,0x77,0x8F,0xFF,0xFF},
		{0xFF,0xF0,0xF7,0xF7,0xF7,0xF8,0xFF,0xFF},/*"B",34*/
	},
	{
		{0xFF,0x0F,0xF7,0xF7,0xF7,0xCF,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF7,0xF9,0xFF,0xFF},/*"C",35*/
	},
	{
		{0xFF,0x07,0xF7,0xF7,0xEF,0x1F,0xFF,0xFF},
		{0xFF,0xF0,0xF7,0xF7,0xFB,0xFC,0xFF,0xFF},/*"D",36*/
	},
	{
		{0xFF,0x07,0x77,0x77,0x77,0xF7,0xFF,0xFF},
		{0xFF,0xF0,0xF7,0xF7,0xF7,0xF7,0xFF,0xFF},/*"E",37*/
	},
	{
		{0xFF,0x07,0x77,0x77,0x77,0xF7,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*"F",38*/
	},
	{
		{0xFF,0x0F,0xF7,0xF7,0xF7,0xCF,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xFA,0xF0,0xFF,0xFF},/*"G",39*/
	},
	{
		{0xFF,0x07,0x7F,0x7F,0x7F,0x07,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFF,0xFF,0xF0,0xFF,0xFF},/*"H",40*/
	},
	{
		{0xFF,0xFF,0xF7,0x07,0xF7,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xF7,0xF0,0xF7,0xFF,0xFF,0xFF},/*"I",41*/
	},
	{
		{0xFF,0xFF,0xFF,0xFF,0x07,0xFF,0xFF,0xFF},
		{0xFF,0xF9,0xF7,0xF7,0xF8,0xFF,0xFF,0xFF},/*"J",42*/
	},
	{
		{0xFF,0x07,0x7F,0x9F,0xE7,0xFF,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFC,0xF3,0xFF,0xFF,0xFF},/*"K",43*/
	},
	{
		{0xFF,0x07,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xF0,0xF7,0xF7,0xF7,0xF7,0xFF,0xFF},/*"L",44*/
	},
	{
		{0xFF,0x07,0x1F,0xFF,0x1F,0x07,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xF0,0xFF,0xF0,0xFF,0xFF},/*"M",45*/
	},
	{
		{0xFF,0x07,0xCF,0x3F,0xFF,0x07,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFE,0xF9,0xF0,0xFF,0xFF},/*"N",46*/
	},
	{
		{0xFF,0x0F,0xF7,0xF7,0xF7,0x0F,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF7,0xF8,0xFF,0xFF},/*"O",47*/
	},
	{
		{0xFF,0x07,0x77,0x77,0x77,0x8F,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*"P",48*/
	},
	{
		{0xFF,0x0F,0xF7,0xF7,0xF7,0x0F,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF5,0xFB,0xF4,0xFF,0xFF},/*"Q",49*/
	},
	{
		{0xFF,0x07,0x77,0x77,0x77,0x8F,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFF,0xFE,0xF1,0xFF,0xFF},/*"R",50*/
	},
	{
		{0xFF,0xCF,0xB7,0x77,0xF7,0xCF,0xFF,0xFF},
		{0xFF,0xF9,0xF7,0xF7,0xF6,0xF9,0xFF,0xFF},/*"S",51*/
	},
	{
		{0xFF,0xF7,0xF7,0x07,0xF7,0xF7,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF0,0xFF,0xFF,0xFF,0xFF},/*"T",52*/
	},
	{
		{0xFF,0x07,0xFF,0xFF,0xFF,0x07,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF7,0xF8,0xFF,0xFF},/*"U",53*/
	},
	{
		{0xFF,0xC7,0x3F,0xFF,0x3F,0xC7,0xFF,0xFF},
		{0xFF,0xFF,0xFE,0xF1,0xFE,0xFF,0xFF,0xFF},/*"V",54*/
	},
	{
		{0xFF,0x07,0xFF,0x07,0xFF,0x07,0xFF,0xFF},
		{0xFF,0xFF,0xF0,0xFF,0xF0,0xFF,0xFF,0xFF},/*"W",55*/
	},
	{
		{0xFF,0xE7,0x9F,0x7F,0x9F,0xE7,0xFF,0xFF},
		{0xFF,0xF3,0xFC,0xFF,0xFC,0xF3,0xFF,0xFF},/*"X",56*/
	},
	{
		{0xFF,0xE7,0x9F,0x7F,0x9F,0xE7,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF0,0xFF,0xFF,0xFF,0xFF},/*"Y",57*/
	},
	{
		{0xFF,0xF7,0xF7,0x77,0x97,0xE7,0xFF,0xFF},
		{0xFF,0xF3,0xF4,0xF7,0xF7,0xF7,0xFF,0xFF},/*"Z",58*/
	},
	{
		{0xFF,0xFF,0xFF,0x03,0xFB,0xFB,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xE0,0xEF,0xEF,0xFF,0xFF},/*"[",59*/
	},
	{
		{0xFF,0xF3,0xCF,0x3F,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFE,0xF9,0xE7,0xFF,0xFF},/*"\",60*/
	},
	{
		{0xFF,0xFB,0xFB,0x03,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xEF,0xEF,0xE0,0xFF,0xFF,0xFF,0xFF},/*"]",61*/
	},
	{
		{0xFF,0xFF,0xF7,0xFB,0xF7,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*"^",62*/
	},
	{
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},
		{0xEF,0xEF,0xEF,0xEF,0xEF,0xEF,0xFF,0xFF},/*"_",63*/
	},
	{
		{0xFF,0xFF,0xFB,0xF7,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*"`",64*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0x7F,0xFF,0xFF,0xFF},
		{0xFF,0xF9,0xF6,0xF6,0xF8,0xF7,0xFF,0xFF},/*"a",65*/
	},
	{
		{0xFF,0x07,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF0,0xF7,0xF7,0xF7,0xF8,0xFF,0xFF},/*"b",66*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF7,0xFB,0xFF,0xFF},/*"c",67*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0xBF,0x07,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF7,0xF0,0xFF,0xFF},/*"d",68*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF8,0xF6,0xF6,0xF6,0xFA,0xFF,0xFF},/*"e",69*/
	},
	{
		{0xFF,0xBF,0x0F,0xB7,0xF7,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xF0,0xFF,0xFF,0xFF,0xFF,0xFF},/*"f",70*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0x7F,0xBF,0xFF,0xFF},
		{0xFF,0xF5,0xEA,0xEA,0xEB,0xF7,0xFF,0xFF},/*"g",71*/
	},
	{
		{0xFF,0x07,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFF,0xFF,0xF0,0xFF,0xFF},/*"h",72*/
	},
	{
		{0xFF,0xFF,0xFF,0x27,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF0,0xFF,0xFF,0xFF,0xFF},/*"i",73*/
	},
	{
		{0xFF,0xFF,0xFF,0x27,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xEF,0xEF,0xF0,0xFF,0xFF,0xFF,0xFF},/*"j",74*/
	},
	{
		{0xFF,0x07,0xFF,0xFF,0x7F,0xBF,0xFF,0xFF},
		{0xFF,0xF0,0xFD,0xFC,0xFB,0xF7,0xFF,0xFF},/*"k",75*/
	},
	{
		{0xFF,0xFF,0xFF,0x07,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xF0,0xFF,0xFF,0xFF,0xFF},/*"l",76*/
	},
	{
		{0xFF,0x3F,0xBF,0x7F,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xF0,0xFF,0xF0,0xFF,0xFF},/*"m",77*/
	},
	{
		{0xFF,0x3F,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF0,0xFF,0xFF,0xFF,0xF0,0xFF,0xFF},/*"n",78*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF7,0xF8,0xFF,0xFF},/*"o",79*/
	},
	{
		{0xFF,0x3F,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xE0,0xFB,0xFB,0xFB,0xFC,0xFF,0xFF},/*"p",80*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0xBF,0x3F,0xFF,0xFF},
		{0xFF,0xFC,0xFB,0xFB,0xFB,0xE0,0xFF,0xFF},/*"q",81*/
	},
	{
		{0xFF,0xFF,0x3F,0x7F,0xBF,0xBF,0xFF,0xFF},
		{0xFF,0xFF,0xF0,0xFF,0xFF,0xFF,0xFF,0xFF},/*"r",82*/
	},
	{
		{0xFF,0x7F,0xBF,0xBF,0xBF,0x7F,0xFF,0xFF},
		{0xFF,0xFB,0xF6,0xF6,0xF5,0xFB,0xFF,0xFF},/*"s",83*/
	},
	{
		{0xFF,0xBF,0x07,0xBF,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xF8,0xF7,0xF7,0xFF,0xFF,0xFF},/*"t",84*/
	},
	{
		{0xFF,0x3F,0xFF,0xFF,0xFF,0x3F,0xFF,0xFF},
		{0xFF,0xF8,0xF7,0xF7,0xF7,0xF0,0xFF,0xFF},/*"u",85*/
	},
	{
		{0xFF,0x3F,0xFF,0xFF,0xFF,0x3F,0xFF,0xFF},
		{0xFF,0xFF,0xFC,0xF3,0xFC,0xFF,0xFF,0xFF},/*"v",86*/
	},
	{
		{0xFF,0x3F,0xFF,0x3F,0xFF,0x3F,0xFF,0xFF},
		{0xFF,0xFE,0xF1,0xFE,0xF1,0xFE,0xFF,0xFF},/*"w",87*/
	},
	{
		{0xFF,0xBF,0x7F,0xFF,0x7F,0xBF,0xFF,0xFF},
		{0xFF,0xF7,0xFB,0xFC,0xFB,0xF7,0xFF,0xFF},/*"x",88*/
	},
	{
		{0xFF,0x3F,0xFF,0xFF,0xFF,0x3F,0xFF,0xFF},
		{0xFF,0xEF,0xEC,0xF3,0xFC,0xFF,0xFF,0xFF},/*"y",89*/
	},
	{
		{0xFF,0xBF,0xBF,0xBF,0xBF,0x3F,0xFF,0xFF},
		{0xFF,0xF7,0xF3,0xF5,0xF6,0xF7,0xFF,0xFF},/*"z",90*/
	},
	{
		{0xFF,0xFF,0x7F,0x83,0xFB,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xE0,0xEF,0xFF,0xFF,0xFF},/*"{",91*/
	},
	{
		{0xFF,0xFF,0xFF,0x01,0xFF,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xE0,0xFF,0xFF,0xFF,0xFF},/*"|",92*/
	},
	{
		{0xFF,0xFF,0xFB,0x83,0x7F,0xFF,0xFF,0xFF},
		{0xFF,0xFF,0xEF,0xE0,0xFF,0xFF,0xFF,0xFF},/*"}",93*/
	},
	{
		{0xFF,0xF7,0xFB,0xFB,0xF7,0xFB,0xFF,0xFF},
		{0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},/*"~",94*/
	}	
};





static void lcd_write_command(uint8_t cmd)
{
	uint8_t i ;
	LCD_CLR_RS();
	LCD_WRITE(cmd);
	
	LCD_SET_RD();
	//for(i=0; i<5; i++) ;
	LCD_CLR_WR();
	for(i=0; i<5; i++) ;
	LCD_SET_WR();
}

static void lcd_write_data(uint8_t dat)
{
	uint8_t i ;
	LCD_SET_RS();
	
	LCD_WRITE(dat);
	LCD_SET_RD();
	//for(i=0; i<5; i++) ;
	LCD_CLR_WR();
	for(i=0; i<5; i++) ;
	LCD_SET_WR();
}

void lcd_init(void)
{
	
	lcd_io_init();
	LCD_CLR_CS();
	LCD_CLR_RST();
	delay_ms(100);
	LCD_SET_RST();

	
	lcd_write_command(0xa2);
	lcd_write_command(0xa0);
	lcd_write_command(0xc8);
	lcd_write_command(0x2c);
	lcd_write_command(0x2e);
	lcd_write_command(0x2f);
	lcd_write_command(0x24);
	lcd_write_command(0x81);
	lcd_write_command(0x20);
	lcd_write_command(0xAF);
	lcd_write_command(0xB0);
	
}

static void lcd_set_page(uint8_t page)
{
	lcd_write_command((page & 0x0f) | 0xb0);
}

static void lcd_set_column(uint8_t column)
{
	lcd_write_command(column & 0x0f); 			// low-4-bit
	lcd_write_command((column >> 4) | 0x10); 	// high-4-bit 
}

void lcd_full_screen(uint8_t fill)
{
	uint8_t i, j;
	for(i = 0; i < 8; i++)
	{
		lcd_set_column(0);
		lcd_set_page(i);
		for(j = 0; j < 128; j++)
			lcd_write_data(fill);
	}
}

void lcd_print(uint8_t x, uint8_t y, uint8_t *p)
{
	uint8_t i, j;
	uint8_t length = strlen(( char*)p);
	lcd_set_column(x << 3);
	lcd_set_page(y);
	for(i = 0; (i < length) && (i < 16); i++)
	{
		if((p[i] >= '0') && (p[i] <= '9'))
		{
			for(j = 0; j < 8; j++)
				lcd_write_data(character_number[p[i] - '0'][j]);
		}
		else if((p[i] >= 'A') && (p[i] <= 'Z'))
		{
			for(j = 0; j < 8; j++)
				lcd_write_data(character_upper_letter[p[i] - 'A'][j]);
		}
		else if((p[i] >= 'a') && (p[i] <= 'z'))
		{
			for(j = 0; j < 8; j++)
				lcd_write_data(character_lower_letter[p[i] - 'a'][j]);
		}
		else if(p[i] == ' ')
		{
			for(j = 0; j < 8; j++)
				lcd_write_data(character_symbol[0][j]);
		}
	}
}

//void bottom_print( uint8_t *p)
//{
//	uint8_t i, j, k;
//	uint8_t length = strlen(( char*)p);
////	lcd_set_column(x << 3);
////	lcd_set_page(y);
//	for(i = 0; (i < length) && (i < 16); i++)
//	{
//		if((p[i] >= '0') && (p[i] <= '9'))
//		{
//			
//			for(j=0; j<2; j++)
//			{
//				lcd_set_column(i*8);
//				lcd_set_page(6+j);
//				for(k = 0; k < 8; k++)
//				{									
//					lcd_write_data(bottom_num[p[i]-'0'][j][k]);
//				}
//			}
//		}
//		else if ((p[i] >= 'a') && (p[i] <= 'z'))
//		{
//			
//			for(j=0; j<2; j++)
//			{
//				lcd_set_column(i*8);
//				lcd_set_page(6+j);
//				for(k = 0; k < 8; k++)
//				{									
//					lcd_write_data(bottom_small_character[p[i]-'a'][j][k]);
//				}
//			}
//		}
//	}
//}


//void display_character_with_start_bit(uint8_t row, uint8_t start_line, uint8_t start_bit, uint8_t end_bit, uint8_t c, uint8_t disp_mode)
//{
//	uint8_t i;
//	uint8_t letter_type = 0 ;
//	uint8_t index = c - ' ';
//	if((c >= '0') && (c <= '9'))
//	{
//		index = c - '0' ;
//		letter_type = 0 ;
//	}
//	else if((c >= 'a') && (c <= 'z'))
//	{
//		index = c - 'a' ;
//		letter_type	= 1 ;	
//	}
//	else
//	return ;
//	
//	if(start_line >= 128)
//		return;
//	
//	 
//	
//	lcd_set_column(start_line);
//	lcd_set_page(6);
//	for(i = start_bit; i < end_bit; i++)
//	{ 
//		switch(letter_type)
//		{
//			case 0:
//				lcd_write_data(bottom_num[index][0][i]);
//			break;
//			case 1:
//				lcd_write_data(bottom_small_character[index][0][i]);	
//			break;
//			default :
//			break;		
//		}
//	}
//	lcd_set_column(start_line);
//	lcd_set_page(7);
//	for(i = start_bit; i < end_bit; i++)
//	{ 
//		switch(letter_type)
//		{
//			case 0:
//				lcd_write_data(bottom_num[index][1][i]);
//			break;
//			case 1:
//				lcd_write_data(bottom_small_character[index][1][i]);	
//			break;
//			default :
//			break;		
//		}
//	}
//}
//Lcd_Show_String(i, 0, DISP_INV, item_name[item_index/5*5+i]);

void Lcd_Show_String(uint8_t pos_row, uint8_t pos_line, uint8_t disp_mode, uint8_t *str)
{
	uint8_t loop = 0;
	uint8_t length = strlen((char*)str);

//	if((pos_row > MAX_ROW) || (pos_line > MAX_LINE))
//		return;

	if(length > (MAX_LINE - pos_line))
		length = MAX_LINE - pos_line;

//	Lcd_Write_Command(0x06);
	for(loop = 0; loop < length; loop++)
	{
	      display_character_with_start_bit(pos_row, 	8*pos_line+8*loop, 0, 8,  str[loop], disp_mode);
		//display_character_with_start_bit(pos_row+1, pos_line + loop, 0, 8,  str[loop], disp_mode);
	}	
}

void display_character_with_start_bit(uint8_t row, uint8_t start_line, uint8_t start_bit, uint8_t end_bit, uint8_t c, uint8_t disp_mode)
{
	uint8_t i;
	uint8_t index = c - ' ';

	if(start_line >= 128)
		return;
	
	lcd_set_page(row);
	lcd_set_column(start_line);
	for(i = start_bit; i < end_bit; i++)
	{ 
		if(disp_mode == DISP_NOR)
			lcd_write_data(Dot8_16[index][0][i]);
		else
			lcd_write_data(~Dot8_16[index][0][i]);
	}

	lcd_set_page(row+1);
	lcd_set_column(start_line);	
	for(i = start_bit; i < end_bit; i++)
	{ 
		if(disp_mode == DISP_NOR)
			lcd_write_data(Dot8_16[index][1][i]);
		else
			lcd_write_data(~Dot8_16[index][1][i]);
	}
}


void stop_scrolling(void)
{
	//scrolling_flag = FALSE;
	scrolling_flag = FALSE;
}
void start_scrolling(void)
{
	scrolling_flag = TRUE;
}



void scrolling_message(void)
{
	uint8_t i, disp_value, byte_index;


	if(scrolling_flag == FALSE)
		return;

	byte_index = start_byte;

//	Lcd_Write_Command(0x06);

	disp_value = scroll_message[byte_index++];
	byte_index %= scroll_message_length;
	display_character_with_start_bit(6, 0, start_bit, 8, disp_value, DISP_NOR);

	if(start_bit < 7)
	{
		for(i = 1; i < 16; i++)
		{
			disp_value = scroll_message[byte_index++];
			byte_index %= scroll_message_length;
			display_character_with_start_bit(6, 8 * i - start_bit, 0, 8, disp_value, DISP_NOR);
		}
	
		disp_value = scroll_message[byte_index++];
		byte_index %= scroll_message_length;
		display_character_with_start_bit(6, 8 * i - start_bit, 0, 4 + start_bit, disp_value, DISP_NOR);
	}
	else // if(start_bit == 7)
	{
		for(i = 1; i < 17; i++)
		{
			disp_value = scroll_message[byte_index++];
			byte_index %= scroll_message_length;
			display_character_with_start_bit(6, 8 * i - start_bit, 0, 8, disp_value, DISP_NOR);
		}
	
	}

//	Lcd_Write_Command(0x07);

	start_bit++;
	if(start_bit >= 8)
	{
		start_bit = 0;
		start_byte++;
		start_byte %= scroll_message_length;
	}
}

void center_print(uint8_t col_addr, uint8_t p, uint8_t point)
{
	uint8_t i , j , k ;
//	uint8_t length = strlen(( char*)p);	
	for(i=0; i<5; i++)
	{
		lcd_set_column(col_addr);
		lcd_set_page(i+1);
		if((p>= '0')&&(p<= '9')) 
		{
			for(j=0; j<20; j++)
			{
				if(point == 1)
				lcd_write_data(center_letter[p -'0'][i][j]|center_letter[10][i][j]) ;
				else
				lcd_write_data(center_letter[p -'0'][i][j]) ;
			}
		}
		else if(p == ' ')
		{ 
			for(j=0; j<20; j++)
			{
				lcd_write_data(center_letter[11][i][j]) ;
			}		
		}
	}
	
}

void center_print_str(uint8_t *p, uint8_t point_position)
{
	uint8_t  i ;
	uint8_t print_len ; 
	uint8_t length = strlen(( char*)p);
	
	if(point_position>4) point_position = 4 ;
	if(point_position> (length-1)) 
	{
		print_len = point_position+1 ;
	}
	else
	{
		if(length >= 5)  length = 5 ;
		print_len = length ;
	}
	for(i=0; i<print_len; i++ )
	{
		if((length-1) >= point_position )
		{
			if(point_position == i)
				center_print((80-20*i) ,p[length-i-1],1);
			else
				center_print((80-20*i) ,p[length-i-1],0);
		}
		else
		{
			if(i<= length-1)
			center_print((80-20*i) ,p[length-i-1],0);
			else
			{
				if(i== point_position)
				center_print((80-20*i) ,'0',1);	
				else 
				center_print((80-20*i) ,'0',0);	
			}
		
		
		}
		
	}
		
}
void print_unit(uint8_t type)
{
	Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"   ") ;
	switch(type)
	{
		case 0:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"F") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"  ") ;
		break;
		case 1:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"C") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"  ") ;

		break;
		case 2:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"L") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"  ") ;
		break;
		case 3:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"M3") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"  ") ;
		break;
		case 4:			
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"Gal") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"  ") ;
		break;
		case 5:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"kWh") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"  ") ;
		break;
		case 6:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"L") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"/H") ;
		break;
		case 7:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"M3") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"/H") ;
		break;
		case 8:
			Lcd_Show_String( 0,  13,  DISP_INV, (uint8_t*)"Gal") ;
			Lcd_Show_String( 2,  14,  DISP_INV, (uint8_t*)"/H") ;
		break;
		default:
			break ;
	}
}



void lcd_io_init(void)
{
  GPIO_InitTypeDef GPIO_InitStructure;	
//  RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOE, ENABLE);
//  /* Configure the GPIO_LED pin */
//  GPIO_InitStructure.GPIO_Pin =GPIO_Pin_1|GPIO_Pin_2| GPIO_Pin_4 | GPIO_Pin_5|GPIO_Pin_6 ;
//	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
//	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
//  GPIO_Init(GPIOE, &GPIO_InitStructure);
//	
//  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
//	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
//	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
//  GPIO_Init(GPIOE, &GPIO_InitStructure);


	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOE, ENABLE);
  /* Configure the GPIO_LED pin */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_1|GPIO_Pin_2| GPIO_Pin_3| GPIO_Pin_4 | GPIO_Pin_5|GPIO_Pin_6|
	GPIO_Pin_7|GPIO_Pin_8|GPIO_Pin_9|GPIO_Pin_10|GPIO_Pin_11|GPIO_Pin_12|GPIO_Pin_13|GPIO_Pin_14|GPIO_Pin_15;
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_Init(GPIOE, &GPIO_InitStructure);
	GPIO_ResetBits(GPIOE, GPIO_Pin_1|GPIO_Pin_2| GPIO_Pin_3| GPIO_Pin_4 | GPIO_Pin_5|GPIO_Pin_6|
	GPIO_Pin_7|GPIO_Pin_8|GPIO_Pin_9|GPIO_Pin_10|GPIO_Pin_11|GPIO_Pin_12|GPIO_Pin_13|GPIO_Pin_14|GPIO_Pin_15);
	
}


void start_back_light(uint8_t timer)
{
	
	//LCD_BLA_ON();
	bl_timer = timer *1000;
}

void poll_back_light(void)
{
	if(bl_timer == 0)
	{
		LCD_BLA_OFF() ;
	}
}

